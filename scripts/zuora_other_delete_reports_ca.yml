zuora_other_delete_reports_pull_ca:
  default_args:
    owner: 'zuora_finance_report'
    start_date: 2022-04-18  # or '2 days'
    end_date: 2022-04-30
    retries: 0
    retry_delay_sec: 300
  schedule_interval: '30 6 * * *'
  concurrency: 1
  max_active_runs: 1
  dagrun_timeout_sec: 300
  default_view: 'tree' # or 'graph', 'duration', 'gantt', 'landing_times'
  orientation: 'LR'  # or 'TB', 'RL', 'BT'
  description: 'This is pilot run for zuora delete report'
  on_success_callback_name: on_success_task
  on_success_callback_file: /home/airflow/gcs/dags/scripts/teams_notify.py
  on_failure_callback_name: on_failed_task
  on_failure_callback_file: /home/airflow/gcs/dags/scripts/teams_notify.py
  tasks:
    pull_other_delete_reports_canada:
        operator: airflow.operators.bash_operator.BashOperator
        bash_command: 'cd /home/airflow/gcs/dags/online_finance_reports/; python -m apps.pull_delete_report canada prod deleted others'
    add_region_column:
      operator: airflow.operators.bash_operator.BashOperator
      bash_command: 'cd /home/airflow/gcs/dags/online_finance_reports/; python -m utils.adding_region_column -p=finance -l=zuora_deleted_orderaction_ca.csv,zuora_deleted_invoiceitem_ca.csv'
      dependencies: [ pull_other_delete_reports_canada ]